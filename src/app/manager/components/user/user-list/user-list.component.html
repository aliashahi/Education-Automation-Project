<div
  class="
    w-full
    bg-gray-200
    h-16
    sticky
    top-14
    z-20
    flex
    items-center
    justify-between
    p-2
  "
>
  <div class="flex items-center">
    <input
      class="
        shadow
        appearance-none
        border
        rounded
        w-full
        py-2
        mx-2
        px-3
        text-gray-700
        leading-tight
        focus:outline-none focus:shadow-outline
      "
      placeholder="first name"
      [(ngModel)]="searchModel.first_name"
      (input)="onFilterUsers()"
    />
    <input
      class="
        shadow
        appearance-none
        border
        rounded
        w-full
        py-2
        px-3
        mx-2
        text-gray-700
        leading-tight
        focus:outline-none focus:shadow-outline
      "
      placeholder="last name"
      [(ngModel)]="searchModel.last_name"
      (input)="onFilterUsers()"
    />
    <input
      class="
        shadow
        appearance-none
        border
        rounded
        w-full
        py-2
        px-3
        ml-3
        text-gray-700
        leading-tight
        focus:outline-none focus:shadow-outline
      "
      placeholder="username"
      [(ngModel)]="searchModel.username"
      (input)="onFilterUsers()"
    />
    <input
      class="
        shadow
        appearance-none
        border
        rounded
        w-full
        py-2
        px-3
        ml-3
        text-gray-700
        leading-tight
        focus:outline-none focus:shadow-outline
      "
      placeholder="email"
      [(ngModel)]="searchModel.email"
      (input)="onFilterUsers()"
    />
  </div>
</div>
<div class="container" *ngIf="dataSource.length > 0; else noData">
  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
    <!--- Note that these columns can be defined in any order.
                The actual rendered columns are set as a property on the row definition" -->

    <!-- Position Column -->
    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef>No.</th>
      <td mat-cell *matCellDef="let element">{{ element.id }}</td>
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="last_name">
      <th mat-header-cell *matHeaderCellDef>Last name</th>
      <td mat-cell *matCellDef="let element">{{ element.last_name }}</td>
    </ng-container>

    <ng-container matColumnDef="first_name">
      <th mat-header-cell *matHeaderCellDef>First name</th>
      <td mat-cell *matCellDef="let element">{{ element.first_name }}</td>
    </ng-container>

    <ng-container matColumnDef="username">
      <th mat-header-cell *matHeaderCellDef>Username</th>
      <td mat-cell *matCellDef="let element">{{ element.username }}</td>
    </ng-container>

    <!-- Weight Column -->
    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef>Email</th>
      <td mat-cell *matCellDef="let element">{{ element.email }}</td>
    </ng-container>

    <!-- Symbol Column -->
    <ng-container matColumnDef="role">
      <th mat-header-cell *matHeaderCellDef>Role</th>
      <td mat-cell *matCellDef="let element">{{ element.role }}</td>
    </ng-container>

    <ng-container matColumnDef="operation">
      <th mat-header-cell *matHeaderCellDef>Symbol</th>
      <td mat-cell *matCellDef="let element">
        <button mat-button color="warn" (click)="onDelete(element)">
          delete
        </button>
        <button mat-button color="assent" (click)="onInfo(element)">
          info
        </button>
      </td>
    </ng-container>

    <ng-container matColumnDef="progress">
      <td
        mat-header-cell
        *matHeaderCellDef
        [attr.colspan]="displayedColumns.length"
      >
        <mat-progress-bar mode="indeterminate" *ngIf="pendding">
        </mat-progress-bar>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-header-row *matHeaderRowDef="['progress']" style="height: 0px"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
  <mat-paginator
    [length]="filteredData.length"
    [pageSize]="pagination.pageSize"
    [pageSizeOptions]="pagination.pageSizeOptions"
    [pageIndex]="pagination.pageIndex"
    (page)="onPaginationChange($event)"
  ></mat-paginator>
</div>
<ng-template #noData>
  <div class="m-auto w-1/2 text-center p-10 rounded-lg font-extrabold">
    <img src="../../../../../assets/images/no_data.png" alt="" />
  </div>
</ng-template>
